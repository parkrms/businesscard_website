<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Portfolio">
    
    <title>Portfolio</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.min.js"></script>
    <script src="sketch.js"></script>
    
    <style>
      /* --- [RESET & BASE] --- */
      * { 
        box-sizing: border-box; margin: 0; padding: 0; 
        -webkit-tap-highlight-color: transparent;
      }
      :root { --app-height: 100dvh; }
      html { background-color: #050505; overscroll-behavior: none; }
      
      body {
        position: fixed; inset: 0; width: 100%; height: var(--app-height); 
        overflow: hidden;
        /* [수정] 배경색 더 어둡게 (20) - sketch.js와 통일 */
        background-color: #141414; 
        font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Segoe UI", Roboto, Arial, sans-serif;
        color: #e0e0e0;
        
        /* [핵심] 우클릭/드래그/선택 방지 (저장 방지) */
        touch-action: none; 
        user-select: none; -webkit-user-select: none;
        -webkit-touch-callout: none; /* iOS 롱프레스 메뉴 차단 */
        
        padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
      }
      
      /* 캔버스 우클릭 방지 */
      canvas { display: block; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1; outline: none; pointer-events: auto; }

      /* --- [닫기 버튼] --- */
      #global-close-btn {
        position: fixed; 
        bottom: calc(30px + env(safe-area-inset-bottom)); 
        left: 50%; transform: translateX(-50%);
        width: 50px; height: 50px; z-index: 9999;
        cursor: pointer; display: none; 
        align-items: center; justify-content: center;
        background: rgba(255, 255, 255, 0.1); 
        backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
        border-radius: 50%; transition: all 0.3s ease;
        touch-action: manipulation;
        -webkit-user-select: none;
      }
      #global-close-btn.visible { display: flex; animation: fadeIn 0.5s ease; }
      #global-close-btn:active { transform: translateX(-50%) scale(0.9); background: rgba(255, 255, 255, 0.2); }
      
      .icon-x { position: relative; width: 14px; height: 14px; }
      .icon-x::before, .icon-x::after {
        content: ''; position: absolute; top: 50%; left: 50%;
        width: 100%; height: 1.5px; background: #fff;
        transform: translate(-50%, -50%) rotate(45deg);
      }
      .icon-x::after { transform: translate(-50%, -50%) rotate(-45deg); }

      /* --- [상세 페이지 레이어] --- */
      #detail-layer {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        z-index: 100; opacity: 0; pointer-events: none;
        transition: opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        background: rgba(0, 0, 0, 0.7); 
        backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
        touch-action: pan-y; overflow-y: auto; -webkit-overflow-scrolling: touch;
      }
      #detail-layer.active { opacity: 1; pointer-events: auto; }

      #content-wrapper {
        width: 100%; min-height: 100%;
        padding-top: calc(80px + env(safe-area-inset-top));
        padding-bottom: calc(100px + env(safe-area-inset-bottom));
        padding-left: calc(40px + env(safe-area-inset-left));
        padding-right: calc(40px + env(safe-area-inset-right));
        display: flex; flex-direction: row; 
        max-width: 1400px; margin: 0 auto;
        opacity: 0; transform: translateY(20px);
        transition: all 0.6s ease 0.2s;
      }
      #detail-layer.active #content-wrapper { opacity: 1; transform: translateY(0); }

      /* 왼쪽 섹션 */
      .left-section { 
        width: 35%; padding-right: 60px;
        position: sticky; top: 100px; height: fit-content;
        display: flex; flex-direction: column; 
        color: #fff; text-align: left;
        /* 텍스트 선택 가능하게 하려면 auto, 막으려면 none */
        user-select: text; -webkit-user-select: text; 
      }
      .meta-data { 
        font-size: 13px; color: #666; margin-bottom: 25px; 
        display: flex; gap: 20px; font-weight: 500; text-transform: uppercase; letter-spacing: 1px;
      }
      .project-title { 
        font-size: 36px; font-weight: 400; margin-bottom: 40px; 
        line-height: 1.2; letter-spacing: -0.5px; color: #fff; 
        white-space: pre-line; 
      }
      .description-box { margin-bottom: 40px; }
      .desc-kr, .desc-en { 
        font-size: 16px; line-height: 1.8; color: #ddd; 
        margin-bottom: 20px; font-weight: 400; word-break: keep-all; 
      }

      /* 오른쪽 섹션 */
      .right-section { width: 65%; padding-left: 20px; }
      .image-list { display: flex; flex-direction: column; gap: 40px; width: 100%; }
      
      /* [핵심] 이미지 저장 방지 스타일 */
      .detail-image {
        width: 100%; height: auto; display: block;
        border-radius: 4px; background-color: #111;
        /* 이미지 드래그 방지 */
        pointer-events: none; 
        /* iOS 롱프레스 방지 */
        -webkit-touch-callout: none;
        user-select: none; -webkit-user-select: none;
      }

      /* --- [? 버튼] --- */
      #help-btn {
        position: fixed; 
        bottom: calc(30px + env(safe-area-inset-bottom)); left: 50%; transform: translateX(-50%);
        width: 48px; height: 48px; border-radius: 50%;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        border: none;
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; z-index: 50;
        transition: all 0.3s ease; touch-action: manipulation;
        color: white; font-size: 20px; font-weight: 600;
        -webkit-user-select: none;
      }
      #help-btn span { mix-blend-mode: difference; }
      #help-btn:active { transform: translateX(-50%) scale(0.95); background: rgba(255, 255, 255, 0.25); }

      /* --- [도움말 오버레이] --- */
      #help-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.4); z-index: 200;
        opacity: 0; pointer-events: none; transition: opacity 0.4s ease;
        backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        touch-action: auto;
      }
      #help-overlay.show { opacity: 1; pointer-events: auto; }
      
      .instruction-container {
        display: flex; flex-direction: row; gap: 60px; 
        align-items: center; justify-content: center; flex-grow: 1; 
      }
      .inst-item {
        color: #fff; font-size: 16px; font-weight: 300; letter-spacing: 0.5px;
        opacity: 0.9; transition: opacity 0.3s;
        text-shadow: 0 2px 10px rgba(0,0,0,0.5); 
      }
      
      /* [수정] 흔들림 애니메이션 (매우 미세하게) */
      @keyframes shakeText {
        0% { transform: translate(0, 0) rotate(0deg); }
        25% { transform: translate(0.3px, 0.3px) rotate(0.3deg); }
        50% { transform: translate(-0.3px, -0.3px) rotate(-0.3deg); }
        75% { transform: translate(-0.3px, 0.3px) rotate(0.1deg); }
        100% { transform: translate(0.3px, -0.3px) rotate(-0.1deg); }
      }
      
      .shaking-text {
        display: inline-block;
        animation: shakeText 0.5s infinite alternate ease-in-out;
        font-weight: 400; 
        color: #fff;
      }

      /* --- [모바일 반응형] --- */
      @media (max-width: 900px) {
        #content-wrapper { 
          flex-direction: column; 
          padding: 80px 20px 80px 20px; 
          padding-top: calc(80px + env(safe-area-inset-top));
        }
        .left-section { 
          width: 100%; position: relative; top: 0;
          padding-right: 0; margin-bottom: 60px;
          border-right: none; border-bottom: 1px solid rgba(255,255,255,0.1); 
          padding-bottom: 40px; 
        }
        .project-title { font-size: 32px; margin-bottom: 20px; }
        .desc-kr, .desc-en { font-size: 15px; max-width: 100%; }
        .right-section { width: 100%; padding-left: 0; }
        .image-list { gap: 20px; }
        .instruction-container { flex-direction: column; gap: 30px; }
        .inst-item { font-size: 14px; }
      }
    </style>
  </head>
  <body oncontextmenu="return false;">
    <div id="global-close-btn" onclick="closeDetail()">
      <div class="icon-x"></div>
    </div>

    <div id="detail-layer">
      <div id="content-wrapper">
        <div class="left-section">
          <div class="meta-data">
            <span id="p-year">2025</span>
          </div>
          <div class="project-title" id="p-title">Title</div>
          <div class="description-box" id="p-desc-box">
            <div class="desc-kr" id="p-desc-kr"></div>
            <div class="desc-en" id="p-desc-en"></div>
          </div>
        </div>
        <div class="right-section">
          <div class="image-list" id="p-image-list"></div>
        </div>
      </div>
    </div>

    <div id="help-btn"><span>?</span></div>

    <div id="help-overlay">
      <div class="instruction-container" id="inst-container"></div>
    </div>

    <script>
      const projects = [
        { id: 1, year: "2023", title: "Two Holes Watch", imgCount: 6, kr: "왜 시계는 대부분 원이 하나일까?\n머그컵과 도넛은 서로 같다. 위상수학의 관점에서 둘은 구멍이 한 개라는 점에서 동일하다. Two Holes Watch는 사물을 바라보는 새로운 위상수학적 관점을 도입한 첫 번째 시도이다. 사용자는 원하는 구멍에 시계 부품을 끼우고, 다른 쪽을 자유롭게 사용할 수 있다.", en: "Why do most watches have a single circle?\nA mug and a donut are essentially the same. From a topological perspective, they are identical in that they both possess a single hole. Two Holes Watch is the first attempt to introduce a new topological perspective to viewing objects. Users can insert the watch module into their preferred hole, leaving the other one free for use." },
        { id: 2, year: "2025", title: "Fashion Runway Typology", imgCount: 10, kr: "패션쇼도 건축이다.\n보통 패션쇼에서는 장소보다 옷이 담긴 보그샷과 유명인의 사진들이 더 많은 주목을 받는다. 하지만 이 전시는 일순간 눈에 띄는 것이 최우선인 패션쇼의 보이지 않는 요소 하나하나를 도면화해서 보여준다. ‘일시성’과 ‘영속성’이라는 서로 지향하는 바가 상반된 패션과 건축의 경계에서, ‘보이는 것’에 치중한 지금의 시대정신을 그리는 것이다.", en: "A fashion show is also architecture.\nTypically, editorial shots of clothes and celebrity photos garner more attention than the venue itself. However, this exhibition diagrams the invisible elements of fashion shows, where instant visibility is paramount. Standing at the boundary between fashion and architecture—two fields with opposing aims of 'temporality' and 'permanence'—it portrays the current zeitgeist that obsesses over 'the visible.'" },
        { id: 3, year: "2025", title: "ChAIR ChAIR", imgCount: 9, kr: "하나의 사물에는 여러 기능들이 중첩되어 있다. 누군가 이를 사용할 때, 비로소 중첩이 깨지게 된다. 하지만 모두가 대상을 의도된 대로만 사용하지 않는다. ChAIR ChAIR는 의자가 아니지만 앉을 수 있는 사물들을 수집하고, 이를 다시 의자로 디자인하는 작업이다. 의자의 형태를 새롭게 창조하기보다, 중첩된 기능을 추출해냈을 뿐이다.", en: "Multiple functions are superposed within a single object. This superposition only collapses when someone uses the object. However, not everyone utilizes objects solely as intended. ChAIR ChAIR collects objects that are not chairs but can be sat upon, redesigning them into chairs. Rather than creating a new form, it merely extracts the superposed function." },
        { id: 4, year: "2025", title: "Book Shelf Lighting", imgCount: 4, kr: "책장에서 책을 꺼내는 행위로 빛을 조절할 수 없을까?\nBook Shelf Lighting은 책장에서 책을 꺼내는 행위에서 착안한 조명이다. 연약한 종이를 기울여 섬세한 움직임으로 밝기를 조절할 수 있다. A4 규격의 어떤 종이든 끼워 사용할 수 있고, 종이의 색과 재질에 따라 빛의 느낌이 달라진다. 사용자는 종이에 메모를 남기거나 원하는 이미지를 삽입해 조명의 일부로 활용할 수 있다. 또한 설명서는 그 자체로 바로 조명에 끼워 사용할 수 있다.", en: "Can we control light through the act of pulling a book from a shelf?\nBook Shelf Lighting is a lighting fixture inspired by this very action. Brightness is controlled by the delicate movement of tilting a sheet of paper. Any A4-sized paper is compatible, and the ambiance changes depending on the paper's color and texture. Users can write notes or print images on the paper to make it part of the design. Even the instruction manual itself can be inserted and used immediately." },
        { id: 5, year: "2023", title: "Book Chair", imgCount: 7, kr: "버려지는 책을 의자로 만들 수는 없을까?\n책은 생각보다 연약하지 않다. 종이가 모아지는 책등 부분은 상당한 무게를 견딜 수 있다. Book Chair는 간단한 모듈을 연결하여 책을 스툴로 만들 수 있는 작업이다. 종이를 한 장 한 장 겹쳐, 원하는 만큼 의자를 확장할 수도 있다.", en: "Can books be transformed into chairs?\nBooks are not as fragile as they seem. The spine, where the pages converge, can withstand significant weight. Book Chair is a project that turns books into stools by connecting simple modules. By overlapping pages one by one, the chair can be expanded to any desired size." },
        { id: 6, year: "2023", title: "Spin Cleaner", imgCount: 6, kr: "청소기 솔이 메인 디자인 요소가 될 수 있을까?\n휴대용 청소기의 솔은 전혀 아름답지 않다. 심지어 먼지를 모아주는 기능도 제대로 수행하지 못한다. Spin Cleaner는 디자인에서 소외되었던 요소를 전방으로 배치해, 제품의 핵심으로 재정의한 작업이다.", en: "Can a vacuum cleaner’s brush become the main design element?\nThe brush on a portable vacuum is far from beautiful. It often fails even to perform its function of collecting dust properly. Spin Cleaner brings this overlooked element to the forefront, redefining it as the core of the product." },
        { id: 7, year: "2023", title: "Paper Cup Lighting", imgCount: 3, kr: "종이컵을 차곡차곡 쌓는 행위가 빛이 되면 어떨까?\n모듈을 하나하나 쌓아 원하는 만큼의 조도를 조절하는 조명이다. 언뜻 봤을 때는 종이컵처럼 보이지 않지만, 모듈과 조명의 선이 자연스럽게 종이컵을 연상시킨다.", en: "What if the act of stacking paper cups became a source of light?\nThis lighting fixture allows users to control intensity by stacking modules one by one. While it may not look like a paper cup at first glance, the lines of the modules and the light naturally evoke the form of a paper cup." },
        { id: 8, year: "2023", title: "Water Strider\nUmbrella Holder", imgCount: 1, kr: "더러움을 숨기지 않는 디자인.\n보통의 디자인은 더러운 요소를 숨긴다. 제품이 실제로 양산되고, 사용하면서 사소한 단점들은 생겨날 수밖에 없다. 이 단점들을 외면하지 않고 적극적으로 이용할 때, 오히려 흥미로운 결과물이 탄생한다. 이 제품은 우산에서 떨어지는 빗물을 숨기지 않고, 빗물이 고이면 소금쟁이를 연상시킨다.", en: "Design that does not hide untidiness.\nConventional design tends to conceal messy elements. However, trivial shortcomings inevitably arise as products are mass-produced and used. When these drawbacks are actively utilized rather than ignored, intriguing results can emerge. This product does not hide the rainwater dripping from umbrellas; rather, as the water collects, it evokes the image of a water strider." },
        { id: 9, year: "2025", title: "1 2 3 4·5", imgCount: 7, kr: "너무 잘 찍으려고 애쓰면, 잘 찍히지 않는다. 그리고 내가 익숙한 구도로만 자꾸 회귀한다. 이 작업은 5주 동안 점차 나에게서 벗어나 새로운 마음가짐을 찾는 여정이다.", en: "If I try too hard to take a good photo, I often fail. I also tend to revert to familiar compositions. This project is a five-week journey to gradually detach from myself and discover a new mindset." },
        { id: 10, year: "2025", title: "Untitled Photo Work", imgCount: 10, kr: "", en: "" }
      ];

      window.updateDetailContent = function(index) {
        const p = projects[index];
        const folderNum = index + 1;
        document.getElementById('p-year').innerText = p.year;
        document.getElementById('p-title').innerText = p.title;
        const descBox = document.getElementById('p-desc-box');
        if (!p.kr && !p.en) { descBox.style.display = 'none'; } else {
          descBox.style.display = 'block';
          document.getElementById('p-desc-kr').innerText = p.kr;
          document.getElementById('p-desc-en').innerText = p.en;
        }
        const imgContainer = document.getElementById('p-image-list');
        imgContainer.innerHTML = ''; 
        for (let i = 1; i <= p.imgCount; i++) {
          const img = document.createElement('img');
          img.src = `${folderNum}/${folderNum}_${i}.jpg`; 
          img.className = 'detail-image';
          img.onerror = function() { this.style.display = 'none'; };
          // [수정] 우클릭 방지 이벤트 추가
          img.oncontextmenu = function() { return false; };
          imgContainer.appendChild(img);
        }
        document.getElementById('detail-layer').scrollTop = 0;
      };

      const setAppHeight = () => { document.documentElement.style.setProperty('--app-height', `${window.innerHeight}px`); };
      window.addEventListener('resize', setAppHeight);
      setAppHeight();

      const helpBtn = document.getElementById('help-btn');
      const helpOverlay = document.getElementById('help-overlay');
      const instContainer = document.getElementById('inst-container');
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

      function renderHelp() {
        // [수정] 텍스트 통일 (Shake) & 애니메이션
        instContainer.innerHTML = `
          <div class="inst-item">Drag</div>
          <div class="inst-item">${isMobile ? 'Tap' : 'Click'}</div>
          <div class="inst-item"><span class="shaking-text">Shake</span></div>
        `;
      }

      helpBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        renderHelp();
        if (isMobile && typeof DeviceMotionEvent !== 'undefined' && typeof DeviceMotionEvent.requestPermission === 'function') {
          DeviceMotionEvent.requestPermission().catch(console.error);
        }
        helpOverlay.classList.add('show');
      });

      helpOverlay.addEventListener('click', (e) => {
        e.stopPropagation();
        helpOverlay.classList.remove('show');
      });
    </script>
  </body>
</html>
